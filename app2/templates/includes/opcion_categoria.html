<!-- templates/includes/opcion_categoria.html -->

<!-- Opci√≥n Actual -->
<option value="{{ cat.id }}">
    {# Generamos espacios visuales seg√∫n el nivel #}
    {% if nivel == 0 %}üìÅ {% endif %}
    {% if nivel > 0 %}&nbsp;&nbsp;{% endif %}
    
    {# Ciclo simple para a√±adir guiones seg√∫n profundidad #}
    {% for i in "x"|rjust:nivel %}‚Ü≥&nbsp;{% endfor %}
    
    {{ cat.nombre }}
</option>

<!-- Recursividad para hijos en el Select -->
{% for hijo in cat.subcategorias.all %}
    {% include "includes/opcion_categoria.html" with cat=hijo nivel=nivel|add:"1" %}
{% endfor %}